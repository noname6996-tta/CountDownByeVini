<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="newyearletter.css">
    <link rel="icon" href="./icon.png">
    <title>Countdown Web</title>
</head>

<body>
    <div class="layout_out_side">
        <div class="heading">
            <h3 id="title">Đếm ngày xa Vinicorp Dev6</h3>
            <h1>Made by Thế Anh dev6</h1>
        </div>

        <div class="countdown">
            <div class="box">
                <span class="num" id="days">02</span>
                <span class="text">Days</span>
            </div>
            <div class="box">
                <span class="num" id="hours">02</span>
                <span class="text">Hours</span>
            </div>
            <div class="box">
                <span class="num" id="minutes">02</span>
                <span class="text">Minutes</span>
            </div>
            <div class="box">
                <span class="num" id="seconds">02</span>
                <span class="text">Seconds</span>
            </div>
        </div>

        <div class="heading2">
            <h3 id="title2">Hãy chờ đến khi kết thúc để đón xem điều bất ngờ ạ</h3>
        </div>
    </div>

    <div class="first_layout" id="imgVini">
        <img src="./vini.jpg">
    </div>

    <div class="second_layout" id="note">
        <h3>
            Mới ngày nào bị mail nhắc nhở đi muộn, nay đã là buổi cuối em ngồi ở vini rồi. Trong suốt thời gian qua, em đã học hỏi từ mọi người nhiều điều, cũng có nhiều kỉ niệm vui.
            Thời gian đầu em làm việc ở công ty thì em khá khủng hoảng, kiểu cứ ngỡ công ty toàn các cô dì chú bác thế này thì sẽ chán lắm.
            Nhưng sau một thời gian làm việc cùng mọi người thì em lại thấy mọi người rất tuyệt vời, thậm trí ngoài mong đợi của em.
            Cảm ơn mọi người đã luôn đồng hành, giúp đỡ, và làm cho mỗi ngày làm việc trở nên thú vị hơn. Em sẽ nhớ những buổi trò chuyện, những tràng cười, và cả những lúc chúng ta cùng nhau vượt qua khó khăn.
            Mặc dù em sẽ bước sang một chương mới, nhưng em hy vọng rằng chúng ta sẽ vẫn giữ liên lạc và có cơ hội gặp lại nhau. 
        </h3>
        <h3>
            Vậy hành trình của em với Vinicorp Dev6 tới đây là hết ạ. Em xin cảm ơn mọi người trong suốt thời gian qua,
            mọi người chính là những người nâng đỡ em trên hành trình trưởng thành của mình ạ.
            Chúc mọi người tiếp tục thành công và hạnh phúc trong công việc cũng như cuộc sống!
            Phía dưới là phần thư em để lại lời chúc cho mỗi người ạ, mong mọi người đọc xong giữ kín ạ tại em ngại</h3>
        <h5>Ps: Ý tưởng này là chị Bích bảo phải làm thiệp, mà em thấy mình thuận code hơn nên em code luôn cho nó nhanh
        </h5>
        <p id="user-id"></p>
    </div>

    <div class="letter" onclick="display_letter()" id="note2">
        <div class="page increment " id="base" id="myinsp">
            <div class="arrow-down"></div>
            <div class="bottom_from">By Thế Anh</div>
            <div id="hny">Bye</div>
        </div>
    </div>

    <script>
        let display_letter = () => {
            let root = document.documentElement;
            let base = document.getElementById('base')

            root.style.setProperty('--page-height', '200px');
            document.getElementById('hny').style.display = "block";
            base.classList.remove('increment')
        }
    </script>

    <script>
        // Lấy tham số id từ URL
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');

        fetch('loginData.json')
            .then(response => response.json())
            .then(loginData => {
                const user = loginData.find(account => account.id === parseInt(id));

                if (user) {
                    document.getElementById("hny").textContent = user.message;
                } else {
                    document.getElementById("hny").textContent = "User not found!";
                }
            })
            .catch(error => {
                console.error('Error loading login data:', error);
                document.getElementById("hny").textContent = "An error occurred!";
            });
    </script>

    <script>
        // Đặt ngày đếm ngược, ở đây mình đặt ngày đếm ngược là 01/01/2024
        //February: Tháng hai, 01: Ngày, 2022: Năm, 00:00:00 or 24:00:00 thời gian của ngày đếm ngược
        var countDownDate = new Date("September 12, 2024 16:00:00").getTime();
        //var countDownDate = new Date("February 01, 2021 00:00:00").getTime();
        // setInterval: Cập nhật đếm ngược sau mỗi 1 giây.
        // 1000: 1 giây
        //sau khi cập nhật trên git
        var x = setInterval(function () {

            // Ngày và giờ hôm nay
            var now = new Date().getTime();

            // Làm phép tính để đếm khoảng cách ngày hôm nay và ngày đếm ngược
            var distance = countDownDate - now;

            // Tính toán thời gian cho ngày, giờ, phút và giây
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").innerText = days,
                document.getElementById("hours").innerText = hours,
                document.getElementById("minutes").innerText = minutes,
                document.getElementById("seconds").innerText = seconds

            // Nếu kết thúc quá trình đếm ngược thì in ra thông báo gì đó
            if (distance < 0) {
                clearInterval(x);
                document.getElementById("title").innerHTML = "Thời gian chính thức kết thúc, Thế Anh tạm biệt và hẹn gặp lại.";
                document.getElementById("title2").style.display = 'none';
                document.getElementById("note").style.display = 'block';
                document.getElementById("imgVini").style.display = 'block';
                document.getElementById("note2").style.display = 'block';
                document.getElementById("days").innerText = 0,
                    document.getElementById("hours").innerText = 0,
                    document.getElementById("minutes").innerText = 0,
                    document.getElementById("seconds").innerText = 0
            }
        }, 1000);
    </script>
</body>

</html>
